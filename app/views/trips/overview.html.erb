<div class="all-events container-fluid mt-3">
  <% @events_by_day.each_with_index do |events, index| %>
    <div class="events" data-controller="directions" data-toggle-target="events" data-action="order-updated@window->directions#showDirections">
      <div class="date">
        <h3>
        <strong>Day <%= index + 1 %></strong> |
        <small><%= events.first.start_time.strftime("%e %b") %></small>
        </h3>
      </div>
      <div class="icons">
        <p class="icon" data-action="click->directions#showDirections"><i class="fa-solid fa-van-shuttle"></i></p>
      </div>
      <ul
        data-controller="sortable"
        data-sortable-resource-name-value="event"
        data-sortable-handle-value=".handle"
        data-action="order-updated@window->sortable#updatePositions">
      <% events.each_with_index do |event, index| %>
        <%= render "event", event: event, index: index %>
      <% end %>
      </ul>
    </div>
  <% end %>
</div>
